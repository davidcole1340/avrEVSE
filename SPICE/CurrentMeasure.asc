Version 4
SHEET 1 2324 680
WIRE 336 80 64 80
WIRE 800 80 336 80
WIRE -400 128 -400 96
WIRE -304 128 -304 96
WIRE 64 128 64 80
WIRE 336 128 336 80
WIRE 800 128 800 80
WIRE -400 224 -400 208
WIRE -304 224 -304 208
WIRE 608 224 464 224
WIRE 672 224 608 224
WIRE 800 224 800 208
WIRE 864 224 800 224
WIRE 800 240 800 224
WIRE 336 256 336 208
WIRE 464 256 464 224
WIRE 608 256 608 224
WIRE 464 368 464 336
WIRE 608 368 608 336
WIRE 608 368 464 368
WIRE 64 400 64 208
WIRE 336 400 336 336
WIRE 464 400 464 368
WIRE 800 416 800 320
FLAG 336 400 0
FLAG 64 400 0
FLAG 464 400 0
FLAG 800 416 0
FLAG 672 224 Isens
FLAG 864 224 Vsens
FLAG -304 224 0
FLAG -304 96 OFFSET
FLAG -400 224 0
FLAG -400 96 5V
SYMBOL voltage 64 112 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {V_PK} {F_V})
SYMATTR InstName V_AC
SYMBOL res 320 112 R0
SYMATTR InstName Rload
SYMATTR Value {R_LOAD}
SYMBOL ind2 320 240 R0
SYMATTR InstName CT_1
SYMATTR Value 100µ
SYMATTR Type ind
SYMBOL ind2 448 240 R0
SYMATTR InstName CT_2
SYMATTR Value 56.25
SYMATTR Type ind
SYMBOL res 592 240 R0
SYMATTR InstName Rshunt
SYMATTR Value 33
SYMBOL res 784 112 R0
SYMATTR InstName R1
SYMATTR Value 680k
SYMBOL res 784 224 R0
SYMATTR InstName R2
SYMATTR Value 3.3k
SYMBOL voltage -304 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 1.765
SYMBOL voltage -400 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
TEXT 64 -16 Left 2 !.param V_PK=V_RMS*sqrt(2) R_LOAD=V_RMS/I_RMS I_RMS=30 F_V=50 V_RMS=245
TEXT 64 32 Left 2 !.tran 50m
TEXT 72 8 Left 2 !K CT_1 CT_2 1
TEXT 72 -40 Left 2 !.lib LF347.lib
TEXT 80 -72 Left 2 !.lib LM324.lib
TEXT 64 -112 Left 2 !.lib LF353.lib
